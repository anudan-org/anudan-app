<div class="col-12 bg-white" style="position: sticky; top: 80px; z-index: 1040">
  <div class="row">
    <h4 class="col-11 text-left my-3 section-header">Grant Closure Request</h4>
    <div class="col-1 text-right" style="display: flex; align-items: center; justify-content: flex-start">
      <mat-icon mat-button [matMenuTriggerFor]="menu" class="float-right" style="cursor: pointer">more_vert
      </mat-icon>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="showWorkflowAssigments()">
          <mat-icon class="ml-1">assignment</mat-icon>Manage Assignments
        </button>
        <button mat-menu-item (click)="showHistory('grant-closure', currentClosure)">
          <mat-icon class="ml-1">comment</mat-icon>View Notes
        </button>
        <ng-container>
          <hr />
          <button mat-menu-item (click)="manageGrant()">
            <img class="ml-2 mr-3" alt="View Grant link" style="width: 20px; height: 20px"
              src="./assets/img/dp.svg" />View Grant
          </button>
        </ng-container>
      </mat-menu>
    </div>
  </div>
</div>
<div class="main-content no-top-margin2" style="margin-top: 40px;">
  <div class="container-fluid anudan-scrollable" style="background: #fff;">
    <div class="row anu-container">
      <div class="col-lg-12">
        <div #container class="container text-left mt-2 px-0 py-2">
          <!--MANAGEMENT SECTION-->
          <div *ngIf="currentClosure.canManage">
            <div class="row w-100 pr-1 pt-1 mt-3 mb-2 mx-0 grants-section">
              <div class="col-12">
                <div class="row p-2" style="background: #fafafa">
                  <div class="col-12 mb-1">
                    <span *ngIf="appComp.loggedInUser.organization.organizationType!=='GRANTEE'"
                      class=" badge text-black m-0 grant-type"
                      [ngStyle]="{'background-color':getGrantTypeColor(currentClosure.grant.grantTypeId)}"><small>{{getGrantTypeName(currentClosure.grant.grantTypeId)}}</small></span>
                    <mat-label>Grant Name:</mat-label>
                    <div class="ml-0 mb-1">
                      <strong>{{
                        (currentClosure.grant.referenceNo
                        ? currentClosure.grant.referenceNo + " | "
                        : "") + currentClosure.grant.name
                        }}</strong>
                    </div>
                  </div>
                  <div class="col-6">
                    <mat-label>Implementing Organization:</mat-label>
                    <div class="ml-0 mb-2">
                      <strong
                        *ngIf="appComp.loggedInUser.organization.organizationType!=='GRANTEE' && isExternalGrant(currentClosure.grant)">{{
                        currentClosure.grant.organization
                        ? currentClosure.grant.organization.name
                        : ""
                        }}</strong>
                      <strong
                        *ngIf="appComp.loggedInUser.organization.organizationType!=='GRANTEE' && !isExternalGrant(currentClosure.grant)">{{
                        currentClosure.grant.grantorOrganization.name
                        }}</strong>
                      <strong *ngIf="appComp.loggedInUser.organization.organizationType==='GRANTEE'">{{
                        currentClosure.grant.organization
                        ? currentClosure.grant.organization.name
                        : ""
                        }}</strong>
                    </div>
                  </div>
                  <div class="col-6">
                    <mat-label>Implementing Organization Representative:</mat-label>
                    <div class="ml-0 mb-1">
                      <strong>{{currentClosure.grant.representative}}</strong>
                    </div>
                  </div>
                  <div class="col-6 mb-0">
                    <mat-label>Duration:</mat-label>
                    <div class="row ml-0 mb-0">
                      <div>
                        <mat-icon [inline]="true" class="mr-1">calendar_today
                        </mat-icon>
                        <strong>{{
                          currentClosure.grant.startDate | date: "dd-MMM-yyyy"
                          }}</strong>
                      </div>
                      <div>
                        <mat-icon [inline]="true" class="mx-3 my-0">arrow_forward
                        </mat-icon>
                      </div>
                      <div>
                        <mat-icon [inline]="true" class="mr-1">calendar_today
                        </mat-icon>
                        <strong>{{
                          currentClosure.grant.endDate | date: "dd-MMM-yyyy"
                          }}</strong>
                      </div>
                    </div>
                  </div>

                  <div class="col-6">
                    <mat-label>Grant Amount:</mat-label>
                    <div class="ml-0 mb-1">
                      <img alt="img" src="./assets/img/rupee.png" style="width: 9px" /><strong>{{
                        getFormattedGrantAmount(currentClosure.grant.amount)
                        }}</strong>
                      &nbsp;&nbsp;&nbsp;<small>{{
                        getGrantAmountInWords(currentClosure.grant.amount)
                        }}</small>
                    </div>
                  </div>
                </div>
                <div class="row mt-3 mx-3">
                  <div class="col-12">
                    <mat-form-field [floatLabel]="'always'" *ngIf="
                    currentClosure.canManage
                  ">
                      <mat-label>Closure Reason:</mat-label>
                      <input id="closureReason" matInput class="anu-input" [formControl]="myControl"
                        [matAutocomplete]="auto" placeholder="Select or create Closure Reason" />
                    </mat-form-field>
                    <mat-autocomplete [disabled]="currentClosure.forGranteeUse" #auto="matAutocomplete"
                      [displayWith]="displayFn" autoActiveFirstOption>
                      <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                        {{ option.reason }}
                      </mat-option>
                    </mat-autocomplete>
                  </div>
                  <div class="col-12">
                    <mat-form-field [floatLabel]="'always'" *ngIf="currentClosure.canManage">
                      <mat-label>Description:</mat-label>
                      <textarea [disabled]="currentClosure.forGranteeUse" id="closureDesc" matInput
                        [(ngModel)]="currentClosure.description" class="anu-input"
                        placeholder="Enter Closure Description"></textarea>
                    </mat-form-field>

                  </div>
                  <div class="row mb-3 mx-1">
                    <div class="col-4" style="display: flex;align-items: center;">
                      <p class="text-header">Project Fund Summary</p>
                      <hr>
                    </div>
                    <div class="col-8" style="display: flex; justify-content: right; align-items: center;">

                    </div>
                    <div class="col-12">
                      <div class="row px-3">
                        <div class="col-12 app-summary-class" (click)="showPlannedCommitmentDetails()"
                          style="background: rgb(255, 255, 255); border-left-color: rgb(255, 191, 0); border-left-width: 4px; box-shadow: rgb(215, 215, 215) 4px 4px 10px; cursor: pointer;">
                          <div class="row h-100">
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{grantAmount}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Grant Commitment</div>
                            </div>
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{getReceivedFunds(0)}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Disbursed Till Date</div>
                            </div>
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{getPlannedDiff(0)}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Undisbursed Amount</div>
                            </div>
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100 text-grey"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{getPlannedFunds(1)}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Other Sources Commitment</div>
                            </div>
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100 text-grey"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{getReceivedFunds(1)}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Received Till Date</div>
                            </div>
                            <div class="col-4 px-0 my-3 d-flex flex-column justify-content-center align-items-start">
                              <div class="text-center w-100 text-grey"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{getPlannedDiff(1)}}</div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Pending Amount</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 px-0" *ngIf="currentClosure.grant.approvedDisbursementsTotal != 0">
                          <div class="col-12">
                            <hr />
                          </div>
                          <div class="col-12 px-0">
                            <p class="text-header">Project Fund at Closure</p>
                          </div>



                          <div class="col-12">
                            <br />
                          </div>

                          <div class="row mx-0">
                            <div class="col-4">

                              <div class="text-center w-100"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{disbursedAmount}}
                              </div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Received
                              </div>

                            </div>
                            <div class="col-4 unspent-class px-4" *ngIf="isExternalGrant(currentClosure.grant)">
                              <div>
                                <mat-form-field *ngIf="currentClosure.canManage && !currentClosure.forGranteeUse">
                                  <input (blur)=" showFormattedInterestEarned($event);setSpendSumamry();" #intAmount
                                    [(ngModel)]="interestEarned" class="anu-input"
                                    [ngModelOptions]="{ standAlone: true }"
                                    placeholder="Interest Earned on Received Amount" autocomplete="false" matInput />
                                  <p #grantInterestFormatted (click)="showInterestEarned($event)"
                                    class="anu-input w-100 text-right"
                                    style="position: absolute; top: 5px; cursor: text"
                                    [innerHtml]="getFormattedInterestEarned(interestEarned)"></p>
                                </mat-form-field>

                                <mat-form-field *ngIf="!currentClosure.canManage || currentClosure.forGranteeUse"
                                  [floatLabel]="'always'">
                                  <input (blur)="showFormattedInterestEarned($event);setSpendSumamry();" #intAmount
                                    [(ngModel)]="interestEarned" class="anu-input"
                                    [ngModelOptions]="{ standAlone: true }" placeholder="Enter Interest Earned"
                                    autocomplete="false" matInput readonly />
                                  <p #grantInterestFormatted (click)="showInterestEarned($event)"
                                    class="anu-input w-100 text-left" style="position: absolute; top: 5px; cursor: text"
                                    [innerHtml]="getFormattedInterestEarned(interestEarned)" aria-readonly=""></p>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class="col-4 unspent-class px-4">
                              <mat-form-field *ngIf="currentClosure.canManage && !currentClosure.forGranteeUse">
                                <input (blur)="showFormattedActualSpent($event);setSpendSumamry()" #spentAmt
                                  [(ngModel)]="actualSpent" class="anu-input" [ngModelOptions]="{ standAlone: true }"
                                  placeholder="Spent (₹)- till Date" autocomplete="false" matInput />
                                <p #grantActualSpentFormatted (click)="showActualSpentInput($event)"
                                  class="anu-input w-100 text-right" style="position: absolute; top: 5px; cursor: text"
                                  [innerHtml]="getFormattedActualSpent(actualSpent)"></p>
                              </mat-form-field>

                              <mat-form-field *ngIf="!currentClosure.canManage || currentClosure.forGranteeUse"
                                [floatLabel]="'always'">
                                <mat-label>Record Spent (₹)- till Date</mat-label>
                                <input (blur)="showFormattedActualSpent($event);setSpendSumamry()" #spentAmt
                                  [(ngModel)]="actualSpent" class="anu-input" [ngModelOptions]="{ standAlone: true }"
                                  placeholder="Enter Record Spent - till Date" autocomplete="false" matInput readonly />
                                <p #grantActualSpentFormatted (click)="showActualSpentInput($event)"
                                  class="anu-input w-100 text-left" style="position: absolute; top: 5px; cursor: text"
                                  [innerHtml]="getFormattedActualSpent(actualSpent)" aria-readonly=""></p>
                              </mat-form-field>
                            </div>

                            <div class="col-4"
                              *ngIf="!checkIfGrantHasRefundAmount() && !isExternalGrant(currentClosure.grant)">
                              <div class="text-center w-100"
                                style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                {{unspentAmount}}
                              </div>
                              <div class="text-center w-100"
                                style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                Unspent Amount
                              </div>
                            </div>
                          </div>

                          <div class="col-12">
                            <hr />
                          </div>


                          <div class="col-12 px-0">
                            <div class="row mx-0">
                              <div class="col-4"
                                *ngIf="!checkIfGrantHasRefundAmount() && isExternalGrant(currentClosure.grant) ">
                                <div class="text-center w-100"
                                  style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                                  {{unspentAmount}}
                                </div>
                                <div class="text-center w-100"
                                  style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                                  Unspent Amount
                                </div>
                              </div>


                              <div class="col-4 mx-0"
                                *ngIf="(!checkIfGrantHasRefundAmount()) && currentClosure.status.internalStatus != 'DRAFT'  && isExternalGrant(currentClosure.grant) ">
                                <div>&nbsp;</div>
                                <div class="text-left w-100 "
                                  style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 14px;font-family:Lato, sans-serif;">
                                  No refund requested.
                                </div>
                              </div>
                            </div>
                            <div class="row mx-0">
                              <div class="col-4 "
                                *ngIf="(!checkIfGrantHasRefundAmount()) && grantOwner() && isExternalGrant(currentClosure.grant)">
                                <button class="btn btn-sm btn-green" style="margin-left:60px"
                                  (click)="captureRefund()">Initiate Refund</button>
                              </div>
                            </div>

                          </div>

                        </div>
                        <div class="col-12 px-0"
                          *ngIf="(checkIfGrantHasRefundAmount() && isExternalGrant(currentClosure.grant))">
                          <p class="text-header">Refund Summary</p>
                        </div>
                        <div class="col-4"
                          *ngIf="checkIfGrantHasRefundAmount()&& isExternalGrant(currentClosure.grant)">
                          <div class="text-center w-100"
                            style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                            {{getRefundAmount()}}</div>
                          <div class="text-center w-100"
                            style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                            Refund Requested</div>
                        </div>
                        <div class="col-4"
                          *ngIf="checkIfGrantHasRefundAmount()&& isExternalGrant(currentClosure.grant)">
                          <div class="text-center w-100"
                            style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                            {{getRefundReceived()}}</div>
                          <div class="text-center w-100"
                            style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                            Refund Received</div>
                        </div>
                        <div class="col-4"
                          *ngIf="checkIfGrantHasRefundAmount()&& isExternalGrant(currentClosure.grant)">
                          <div class="text-center w-100"
                            style="font-weight: 800;font-size: 20px;color: #0E100E;font-family:Archivo, sans-serif;">
                            {{getPendingAmount()}}</div>
                          <div class="text-center w-100"
                            style="font-weight: 400;color: rgba(14, 16, 14, 0.68);font-size: 12px;font-family:Lato, sans-serif;">
                            Pending Amount</div>
                        </div>





                      </div>

                    </div>

                    <div class="col-12 mt-4">
                      <p class="text-header px-0">Associated Closure Documents</p>
                    </div>
                    <div class="col-sm-12 col-lg-12 text-left">
                      <div class="row mx-3">
                        <div class="col-6">
                          <button class="btn btn-sm btn-green w-100" disabled>
                            <mat-icon style='display:flex;align-items:center;justify-content: center;'>
                              business
                            </mat-icon>
                            Browse from library
                          </button>
                        </div>
                        <div class="col-6 pl-0 pr-2">
                          <label for="projectDocument" class="btn btn-sm btn-green w-100 ml-0">
                            <mat-icon style='display:flex;align-items:center;justify-content: center;'>
                              computer
                            </mat-icon>
                            Browse from system
                          </label>
                          <input id="projectDocument" type="file" style="height: 0; visibility: hidden;" multiple
                            (change)="
                            processSelectedClosureDocFiles($event)
                              " [accept]="appComp.acceptedFileTypes" />
                        </div>
                      </div>
                      <mat-nav-list>
                        <ng-container *ngFor="let attachment of currentClosure.closureDocuments">
                          <mat-list-item>
                            <p [id] mat-line style="
                                  border-bottom: 1px solid #d4d4d4;
                                  padding-left: 0;font-size: 14px;
                                ">
                              {{ attachment.name }}
                            </p>
                            <input id='closure_attachment_{{attachment.id}}' mat-list-icon class="attachment-checkbox"
                              type="checkbox" (change)="
                                  handleClosureDocSelection(attachment.id)
                                " style="width: 18px;" />
                            <button [disabled]="noSingleClosureDocAction" class='single-doc'
                              (click)="previewDocument('closure-document',attachment)">
                              <mat-icon class="float-right"
                                [ngClass]="noSingleClosureDocAction?'singledoc-ico-disabled':'singledoc-ico-enabled'">
                                remove_red_eye</mat-icon>
                            </button>
                            <button [disabled]="noSingleClosureDocAction" class='single-doc'>
                              <mat-icon class=" float-right" (click)="downloadSingleClosureDoc(attachment.id)"
                                [ngClass]="noSingleClosureDocAction?'singledoc-ico-disabled':'singledoc-ico-enabled'">
                                file_download</mat-icon>
                            </button>
                            <button [disabled]="noSingleClosureDocAction" class='single-doc'
                              (click)="deleteSingleClosureDoc(attachment.id)">
                              <mat-icon class="float-right"
                                [ngClass]="noSingleClosureDocAction?'singledoc-ico-disabled':'singledoc-ico-enabled'">
                                delete_outlined</mat-icon>
                            </button>
                          </mat-list-item>
                        </ng-container>
                        <mat-list-item *ngIf="
                             currentClosure.closureDocuments &&
                             currentClosure.closureDocuments.length > 0
                            ">
                          <button id="downloadBtn" [disabled]="!downloadAndDeleteClosureDocsAllowed"
                            class="btn btn-sm btn-blue" (click)="downloadClosureDocsSelection()">
                            <mat-icon style='display:flex;align-items:center;justify-content: center;'>
                              system_update_alt</mat-icon>
                            Download Selected Documents
                          </button>

                          <button id="deleteBtn" class="btn btn-sm btn-blue ml-4"
                            [disabled]="!downloadAndDeleteClosureDocsAllowed" (click)="deleteClosureDocsSelection()">
                            <mat-icon style='display:flex;align-items:center;justify-content: center;'>
                              delete_outlined
                            </mat-icon>Delete
                            Selected Documents
                          </button>
                        </mat-list-item>
                      </mat-nav-list>
                    </div>

                    <div #popupcontainer class="col-12" style="position:absolute; top :-2000px;z-index:1041;">
                      <ng-container *ngFor="let section of currentClosure.closureDetails.sections">
                        <div>
                          <ng-container #sectionsContainer *ngFor="let attribute of section.attributes; let i = index">
                            <div id="fieldBlock_{{ attribute.id }}" class="row mb-4 mt-2" style="
                        border: 1px solid #ececec;
                        border-radius: 4px;
                        padding: 20px;
                        background: #fcfcfc;
                      ">
                              <ng-container class="mb-2">










                                <div class="col-sm-12 col-lg-12 text-left"
                                  *ngIf="attribute.fieldType === 'disbursement'">

                                  <div id="tableArea" #plannedProjectFundsModal role="dialog"
                                    class="row modal mt-5 plannedProjectFundsModal"
                                    style="padding-left: 15px; padding-right: 15px;margin-top: 100px;z-index:0;">
                                    <span class=""
                                      style="position:absolute; right: 20px; left: auto;top: 10px;z-index:1;"
                                      (click)="hidePlannedCommitmentDetails()">
                                      <mat-icon>close</mat-icon>
                                    </span>
                                    <p class="text-header text-center">[{{currentClosure.grant.referenceNo}}]
                                      {{currentClosure.grant.name}}</p>
                                    <p class="text-header">Planned Project Funds</p>
                                    <table id="tablePlaceholderX" style="width:100%;">
                                      <caption></caption>
                                      <tr style="background: #f9f9f9">
                                        <th id="planned" style="border: 1px solid #e4e4e4;width:10%;">
                                          <label class="m-0"><span>Planned Installment #</span></label>
                                        </th>
                                        <ng-container *ngFor="
                                    let column of getGrantDisbursementAttribute()
                                      .fieldTableValue[0].columns;
                                    let i = index
                                  ">
                                          <th [id]="'col_1_'+i" [ngStyle]="
                                      (column.name === 'Funds from other Sources')
                                        ? {
                                            border: '1px solid #e4e4e4',
                                            background: 'transparent',
                                            width:'10%'
                                          }
                                        : { border: '1px solid #e4e4e4',width:'10%' }
                                    ">
                                            <label class="m-0 text-center p-2 m-0"
                                              style="font-weight: 400; font-size: 14px">{{
                                              column.name === "Notes"
                                              ? "Milestones/Notes"
                                              : column.name
                                              }}</label>
                                          </th>
                                        </ng-container>
                                      </tr>
                                      <ng-container *ngFor="
                                  let row of getGrantDisbursementAttribute()
                                    .fieldTableValue;
                                  let i = index
                                ">
                                        <tr>
                                          <td style="width:10%;">
                                            <p class="anu-input m-0 text-center" style="background: #f4f4f4 !important">
                                              <label class="w-100 m-0">{{
                                                row.name
                                                }}</label>
                                            </p>
                                          </td>
                                          <ng-container *ngFor="
                                      let column of row.columns;
                                      let j = index
                                    ">
                                            <td [ngStyle]="
                                        column.name === 'Notes' ? {width:'20%'} : {width:'12%'}
                                      " [ngStyle]="
                                        column.name ===
                                        'Funds from other Sources'
                                          ? { background: 'transparent' }
                                          : {}
                                      ">
                                              <p *ngIf="!column.dataType" class="anu-input m-0 w-100 m-0"
                                                style="background: #f4f4f4 !important">
                                                {{ column.value }}
                                              </p>
                                              <p *ngIf="column.dataType === 'currency'"
                                                class="anu-input w-100 text-right m-0"
                                                style="background: #f4f4f4 !important">
                                                {{ getFormattedCurrency(column.value) }}
                                              </p>
                                            </td>
                                          </ng-container>
                                        </tr>
                                      </ng-container>
                                      <tr
                                        [ngStyle]="getGrantDisbursementAttribute().fieldTableValue.length > 1?{background: '#f4f4f4'}:{background: '#f4f4f4',visibility:'hidden'}">
                                        <td class="py-2" style="position: sticky; left: 0; z-index: 1">
                                          <label class="w-100" style="font-weight: 600">TOTAL:</label>
                                        </td>
                                        <ng-container *ngIf="
                                    getGrantDisbursementAttribute()
                                      .fieldTableValue[0]
                                  ">
                                          <td *ngFor="
                                      let column of getGrantDisbursementAttribute()
                                        .fieldTableValue[0].columns;
                                      let j = index
                                    ">
                                            <label class="text-right pr-3 my-0 w-100"
                                              *ngIf="column.dataType === 'currency'"><strong class="pf">{{
                                                getTotals(
                                                j,
                                                getGrantDisbursementAttribute()
                                                .fieldTableValue
                                                )
                                                }}</strong></label>
                                          </td>
                                        </ng-container>
                                      </tr>
                                    </table>

                                    <div id="tableArea" #receivedProjectFundsModal class="row dibursements-class"
                                      style="padding-left: 15px; padding-right: 15px;">

                                      <p class="text-header">Project Funds Received</p>
                                      <table #dataColumns id="refunds-holder" class="refunds-holder" style="width:100%">
                                        <caption></caption>
                                        <ng-container *ngIf="!attribute.fieldTableValue">
                                          <tr>
                                            <th id="no_funds">
                                              <p>
                                                No funds have been recorded for this
                                                project yet
                                              </p>
                                            </th>
                                          </tr>
                                        </ng-container>
                                        <tr>
                                          <ng-container *ngIf="attribute.fieldTableValue">
                                            <td style="border: 1px solid #e4e4e4;width:10%;">
                                              <label class="m-0">#</label>
                                            </td>
                                          </ng-container>
                                          <ng-container *ngIf="
                                    attribute.fieldTableValue &&
                                    attribute.fieldTableValue[0]
                                  ">
                                            <ng-container *ngFor="
                                      let column of attribute.fieldTableValue[0]
                                        .columns;
                                      let i = index
                                    ">
                                              <td [ngStyle]="
                                        column.name ===
                                        'Funds from Other Sources'
                                          ? {
                                              border: '1px solid #e4e4e4',
                                              background: 'transparent',
                                              width:'10%'
                                            }
                                          : { border: '1px solid #e4e4e4',width:'10%' }
                                      ">
                                                <label class="m-0 text-center p-2" style="
                                          font-weight: 400;
                                          font-size: 14px;
                                        ">{{
                                                  column.name === "Notes"
                                                  ? "Milestones/Notes"
                                                  : column.name
                                                  }}</label>
                                              </td>
                                            </ng-container>
                                          </ng-container>
                                        </tr>
                                        <ng-container *ngIf="
                                  attribute.fieldTableValue &&
                                  attribute.fieldTableValue.length > 0
                                ">
                                          <ng-container *ngFor="
                                    let row of attribute.fieldTableValue;
                                    let i = index
                                  ">
                                            <tr *ngIf="row.reportId === currentClosure.id">
                                              <td [ngStyle]="
                                        row.enteredByGrantee
                                          ? {
                                              background: 'transparent',
                                              padding: '2px 4px',
                                              border: '1px solid #e4e4e4',
                                              width:'10%'
                                            }
                                          : {
                                              background: 'rgb(244,244,244)',
                                              padding: '2px 4px',
                                              border: '1px solid #e4e4e4',
                                              width:'10%'
                                            }
                                      ">
                                                <mat-icon *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          row.enteredByGrantee
                                        " aria-hidden="false" style="
                                          font-size: 12px;
                                          top: -3px;
                                          position: relative;
                                          left: 88%;
                                          z-index: 1;
                                          cursor: pointer;
                                        " aria-label="Example home icon" inline="false" title="Delete this row">
                                                  delete_outline
                                                </mat-icon>

                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          !currentClosure.forGranteeUse &&
                                          !row.enteredByGrantee
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          !currentClosure.forGranteeUse &&
                                          row.enteredByGrantee
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0px;
                                          ">
                                                    <ng-container *ngIf="row.enteredByGrantee &&
                                        row.status && row.reportId===currentClosure.id">* </ng-container>
                                                    <ng-container *ngIf="row.enteredByGrantee &&
                                        row.status && row.reportId!==currentClosure.id">** </ng-container>{{ row.name
                                                    }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length ===
                                            1 && !currentClosure.forGranteeUse
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          !row.enteredByGrantee
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0px;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          row.enteredByGrantee &&
                                          row.status
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: -14px;
                                          ">
                                                    <ng-container *ngIf="row.enteredByGrantee &&
                                        currentClosure.forGranteeUse &&
                                        row.status">* </ng-container>{{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length >
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          row.enteredByGrantee &&
                                          !row.status
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: -14px;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length ===
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          row.enteredByGrantee
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0px;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                                <ng-container *ngIf="
                                          attribute.fieldTableValue.length ===
                                            1 &&
                                          currentClosure.forGranteeUse &&
                                          !row.enteredByGrantee
                                        ">
                                                  <p class="anu-input m-0 text-center" style="
                                            background: #f4f4f4 !important;
                                            position: relative;
                                            top: 0px;
                                          ">
                                                    {{ row.name }}
                                                  </p>
                                                </ng-container>
                                              </td>
                                              <ng-container *ngFor="
                                        let column of row.columns;
                                        let j = index
                                      ">
                                                <td [ngStyle]="
                                          row.enteredByGrantee
                                            ? {
                                                border: '1px solid #e4e4e4',
                                                'padding-top': '0',
                                                background: 'transparent'
                                              }
                                            : {
                                                border: '1px solid #e4e4e4',
                                                'padding-top': '0'
                                              }
                                        " [ngStyle]="
                                          column.name === 'Notes'
                                            ? {background:'23%'}
                                            : {background:'12%'}
                                        ">
                                                  <mat-form-field style="margin-top: 3px"
                                                    *ngIf="!currentClosure.forGranteeUse">
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              !column.dataType &&
                                              !row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" disabled readonly style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              !column.dataType &&
                                              row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'date' &&
                                              !row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" disabled readonly style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources' &&
                                              !row.enteredByGrantee
                                            " #committedAmount type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" disabled readonly style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources' &&
                                              !row.enteredByGrantee
                                            " #amountFormatted class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee
                                            " #committedAmount type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee
                                            " #amountFormatted class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <input *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                  </mat-form-field>
                                                  <mat-form-field style="margin-top: 3px"
                                                    *ngIf="currentClosure.forGranteeUse">
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              !column.dataType &&
                                              !row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'date' &&
                                              !row.enteredByGrantee
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              !column.dataType &&
                                              row.enteredByGrantee &&
                                              row.status
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              !column.dataType &&
                                              row.enteredByGrantee &&
                                              !row.status
                                            " matInput [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee &&
                                              row.status
                                            " matInput [(ngModel)]="column.value" class="anu-input" readonly style="
                                              color: #212529;
                                              background: #ffffff !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee &&
                                              !row.status
                                            " matInput [(ngModel)]="column.value" class="anu-input" readonly style="
                                              color: #212529;
                                              background: #ffffff !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <mat-icon *ngIf="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee &&
                                              column.value !== '' &&
                                              column.value !== undefined
                                            " style="
                                              transform: scale(0.65);
                                              position: absolute;
                                              right: 15px;
                                              top: 21%;
                                              cursor: pointer;
                                              color: #7f7f7f;
                                            ">clear</mat-icon>
                                                    <mat-icon *ngIf="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee
                                            " [ngStyle]="
                                              column.dataType === 'date' &&
                                              row.enteredByGrantee &&
                                              row.status &&
                                              column.value !== ''
                                                ? {
                                                    transform: 'scale(0.55)',
                                                    color: '#7f7f7f',
                                                    position: 'absolute',
                                                    right: '0',
                                                    top: '21%',
                                                    cursor: 'pointer'
                                                  }
                                                : {
                                                    transform: 'scale(0.55)',
                                                    color: '#7f7f7f',
                                                    position: 'absolute',
                                                    right: '0',
                                                    top: '21%',
                                                    cursor: 'pointer'
                                                  }
                                            ">calendar_today</mat-icon>
                                                    <input *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              !row.enteredByGrantee
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              !row.enteredByGrantee
                                            " #amountFormatted class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee &&
                                              row.status
                                            " #amountFormatted class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee &&
                                              row.status
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" />
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee &&
                                              !row.status
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <p [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources' &&
                                              row.enteredByGrantee &&
                                              !row.status
                                            " type="number" class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                  </mat-form-field>
                                                </td>
                                              </ng-container>
                                            </tr>
                                            <!--When row belongs to a different report-->
                                            <tr *ngIf="row.reportId !== currentClosure.id">
                                              <td [ngStyle]="
                                        row.enteredByGrantee
                                          ? {
                                              background: 'transparent',
                                              padding: '2px 4px',
                                              border: '1px solid #e4e4e4',
                                              width:'10%'
                                            }
                                          : {
                                              background: 'rgb(244,244,244)',
                                              padding: '2px 4px',
                                              border: '1px solid #e4e4e4',
                                              width:'10%'
                                            }
                                      ">
                                                <p class="anu-input m-0 text-center" [ngClass]="
                                          row.enteredByGrantee &&
                                          currentClosure.forGranteeUse &&
                                          row.status
                                            ? 'dark-grey-label'
                                            : 'light-grey-label'
                                        ">
                                                  <ng-container *ngIf="row.enteredByGrantee &&
                                        currentClosure.forGranteeUse &&
                                        row.status && row.reportId===currentClosure.id">* </ng-container>
                                                  <ng-container *ngIf="row.enteredByGrantee &&
                                        currentClosure.forGranteeUse &&
                                        row.status && row.reportId!==currentClosure.id">** </ng-container>{{ row.name
                                                  }}
                                                </p>
                                              </td>
                                              <ng-container *ngFor="
                                        let column of row.columns;
                                        let j = index
                                      ">
                                                <td [ngStyle]="
                                          row.enteredByGrantee
                                            ? {
                                                border: '1px solid #d6d6d6',
                                                'padding-top': '0',
                                                background: 'transparent'
                                              }
                                            : {
                                                border: '1px solid #e4e4e4',
                                                'padding-top': '0'
                                              }
                                        " [ngStyle]="
                                          column.name === 'Notes'
                                            ? {background:'23%'}
                                            : {background:'12%'}
                                        ">
                                                  <mat-form-field style="margin-top: 3px"
                                                    *ngIf="!currentClosure.forGranteeUse">
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="!column.dataType"
                                                      matInput [(ngModel)]="column.value" class="anu-input"
                                                      [ngModelOptions]="{
                                              standAlone: true
                                            }" disabled readonly style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />

                                                    <input [id]="'data_' + i + '_' + j"
                                                      *ngIf="column.dataType === 'date'" matInput
                                                      [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" disabled readonly style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />

                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " #committedAmount type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" disabled readonly style="
                                              color: #212529;
                                              background: #d6d6d6 !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " #amountFormatted class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              cursor: text;
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>

                                                    <input *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #f4f4f4 !important;
                                            " />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " class="anu-input w-100 text-right" style="
                                              position: absolute;
                                              top: -1px;
                                              background: #f4f4f4 !important;
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                  </mat-form-field>
                                                  <mat-form-field style="margin-top: 3px"
                                                    *ngIf="currentClosure.forGranteeUse">
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="!column.dataType"
                                                      matInput [(ngModel)]="column.value" class="anu-input"
                                                      [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled [ngClass]="
                                              row.status
                                                ? 'dark-grey-input'
                                                : 'light-grey-input'
                                            " />
                                                    <input [id]="'data_' + i + '_' + j"
                                                      *ngIf="column.dataType === 'date'" matInput
                                                      [(ngModel)]="column.value" class="anu-input" [ngModelOptions]="{
                                              standAlone: true
                                            }" readonly disabled [ngClass]="
                                              row.status
                                                ? 'dark-grey-input'
                                                : 'light-grey-input'
                                            " />

                                                    <input *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #d6d6d6 !important;
                                            " [ngModelOptions]="{
                                              standAlone: true
                                            }" />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name !==
                                                'Funds from Other Sources'
                                            " class="anu-input w-100 text-right" [ngClass]="
                                              row.status?'dark-grey-label-abs':'light-grey-label-abs'
                                            ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                    <input [id]="'data_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " type="number" matInput [(ngModel)]="column.value"
                                                      class="anu-input text-right" readonly disabled style="
                                              color: #212529;
                                              background: #d6d6d6 !important;
                                            " />
                                                    <p [id]="'label_' + i + '_' + j" *ngIf="
                                              column.dataType === 'currency' &&
                                              column.name ===
                                                'Funds from Other Sources'
                                            " #amountFormatted class="anu-input w-100 text-right" [ngClass]="
                                            row.status?'dark-grey-label-abs':'light-grey-label-abs'
                                          ">
                                                      {{
                                                      getFormattedCurrency(column.value)
                                                      }}
                                                    </p>
                                                  </mat-form-field>
                                                </td>
                                              </ng-container>
                                            </tr>
                                          </ng-container>
                                        </ng-container>

                                        <div class="row">
                                          <div class="col-12">
                                          </div>
                                        </div>
                                        <tr *ngIf="
                                  attribute.fieldTableValue 
                                " [ngStyle]="attribute.fieldTableValue.length>1? {background: '#f4f4f4'}:{background: '#f4f4f4',visibility:'hidden'}">
                                          <td class="py-2" style="position: sticky; left: 0; z-index: 1">
                                            <label class="w-100" style="font-weight: 600">TOTAL:</label>
                                          </td>
                                          <ng-container *ngIf="attribute.fieldTableValue[0]">
                                            <td *ngFor="
                                      let column of attribute.fieldTableValue[0]
                                        .columns;
                                      let j = index
                                    ">
                                              <label class="text-right pr-3 my-0 w-100"
                                                *ngIf="column.dataType === 'currency'"><strong class="rf">{{
                                                  getTotals(j, attribute.fieldTableValue)
                                                  }}</strong></label>
                                            </td>
                                          </ng-container>
                                        </tr>
                                      </table>
                                    </div>
                                  </div>


                                </div>












                              </ng-container>
                            </div>
                          </ng-container>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div #createSectionModal class="modal fade mt-5" id="createSectionModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog center-class mt-5" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createSectionLabel"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="fieldTitleInput" class="mat-form-field-label pull-left">Section Name:</label>
          <input id="sectionTitleInput" class="form-control" value="" />
        </div>
        <div class="row px-3">
          <button type="button" class="btn btn-sm btn-green-primary" (click)="saveSection()">
            Done
          </button>
          <button type="button" class="btn btn-sm btn-green" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</div>